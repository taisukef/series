<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no", initial-scale=1.0 />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta property="og:image" content="ss.png">
<link rel="apple-touch-icon" href="icon.png"/>
<title>ã˜ã‚…ã‚“ã«ãŠã™</title>
<style>
body {
	margin: 0;
}
</style>
<script>"use strict";
var ç›¤å¹… = 4;
var ç›¤é«˜ = 4;
var ã‚¯ãƒªã‚¢ = false;

var ã‚¿ã‚¤ãƒ«æ•°å­— = [
	"â‘ ","â‘¡","â‘¢","â‘£",
	"â‘¤","â‘¥","â‘¦","â‘§",
	"â‘¨","â‘©","â‘ª","â‘«",
	"â‘¬","â‘­","â‘®","â‘¯"
];
var è¡¨ç¤ºç”¨æ•°å­— = [
	"ï¼","ï¼‘","ï¼’","ï¼“","ï¼”",
	"ï¼•","ï¼–","ï¼—","ï¼˜","ï¼™"
];
var æ™‚è¨ˆ = [
	"ğŸ•›","ğŸ•","ğŸ•‘","ğŸ•’",
	"ğŸ•“","ğŸ•”","ğŸ••","ğŸ•–",
	"ğŸ•—","ğŸ•˜","ğŸ•™","ğŸ•š"
];

function ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œç«¯æœ«() {
	return navigator.userAgent.indexOf("iPhone") != -1
		|| navigator.userAgent.indexOf("iPad") != -1
		|| navigator.userAgent.indexOf("Android") != -1;
};

var ctx;

window.onload = function() {
	ctx = canv.getContext("2d");
	if (ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œç«¯æœ«()) {
		canv.addEventListener("touchstart",
		    function(e) {
			    ã‚¿ãƒƒãƒ(
					e.touches[0].clientX,
					e.touches[0].clientY
				);
				e.preventDefault();
		    }
		);
	} else {
		canv.addEventListener("click",
		    function(e) {
		    	ã‚¿ãƒƒãƒ(e.clientX, e.clientY);
		    }
		);
	}
	åˆæœŸåŒ–ã›ã‚ˆ();
	æç”»ã›ã‚ˆ();
};

function äºŒæ¬¡å…ƒé…åˆ—ã‚’ä½œã‚Œ() {
	var é…åˆ— = [];
	for (var i = 0; i < ç›¤é«˜; i++){
		é…åˆ—[i] =[];
		for (var j = 0; j < ç›¤å¹…; j++){
			é…åˆ—[i][j] = 0;
		}
	}
	return é…åˆ—;
}
var ä»ŠæŠ¼ã™æ•°å­—;
var é–‹å§‹æ™‚é–“, çµŒéæ™‚é–“;
var æ•°å­—ç›¤, æŠ¼æ¸ˆç›¤;
var ãƒªã‚¹ãƒˆ;
var ã‚¿ã‚¤ãƒID;

function åˆæœŸåŒ–ã›ã‚ˆ() {
	ã‚¯ãƒªã‚¢ = false;
	ä»ŠæŠ¼ã™æ•°å­— = 1;
	é–‹å§‹æ™‚é–“ = Date.now();
	çµŒéæ™‚é–“ = 0;
	æ•°å­—ç›¤ = äºŒæ¬¡å…ƒé…åˆ—ã‚’ä½œã‚Œ();
	æŠ¼æ¸ˆç›¤ = äºŒæ¬¡å…ƒé…åˆ—ã‚’ä½œã‚Œ();
	ãƒªã‚¹ãƒˆ = [];
	for (var i = 0; i < ç›¤é«˜ * ç›¤å¹…; i++) {
		ãƒªã‚¹ãƒˆ[i] = i + 1;
	}
	ãƒªã‚¹ãƒˆ.sort(
		function(a, b) {
			return Math.random() < 0.5 ? -1 : 1;
		}
	);
	for (var i = 0; i < ãƒªã‚¹ãƒˆ.length; i++) {
		æ•°å­—ç›¤[parseInt(i / ç›¤é«˜)][parseInt(i % ç›¤å¹…)] = ãƒªã‚¹ãƒˆ[i];
	}
	ã‚¿ã‚¤ãƒID = setInterval(ã‚¿ã‚¤ãƒãƒ«ãƒ¼ãƒãƒ³, 1000 / 600);
}
function ã‚¿ã‚¤ãƒãƒ«ãƒ¼ãƒãƒ³() {
	çµŒéæ™‚é–“ = Date.now() - é–‹å§‹æ™‚é–“;
	if (çµŒéæ™‚é–“ > 99999)
		çµŒéæ™‚é–“ = 99999;
	æç”»ã›ã‚ˆ();
}

var ç”»é¢å¹…, ç”»é¢é«˜;
var ç‰¹å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º;
var å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º;
var å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º;
var ã‚ªãƒ•ã‚»ãƒƒãƒˆX;
var ã‚ªãƒ•ã‚»ãƒƒãƒˆY;

function æç”»ã›ã‚ˆ() {
	ç”»é¢å¹… = window.innerWidth;
	ç”»é¢é«˜ = window.innerHeight;
	canv.width = ç”»é¢å¹…;
	canv.height = ç”»é¢é«˜;
	ç‰¹å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º = Math.min(Math.min(ç”»é¢å¹…, ç”»é¢é«˜) / 2, 250);
	å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º = Math.min(ç”»é¢å¹… / (ç›¤å¹… + 1), ç”»é¢é«˜ / (ç›¤é«˜ + 1.5));
	å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º = å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º / 2;
	ã‚ªãƒ•ã‚»ãƒƒãƒˆX = (ç”»é¢å¹… - å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º * ç›¤å¹…) / 2;
	ã‚ªãƒ•ã‚»ãƒƒãƒˆY = (ç”»é¢é«˜ - å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º - å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º * ç›¤é«˜) / 2;
	
	ctx.fillStyle = "rgb(235,208,175)";
	ctx.fillRect(0, 0, ç”»é¢å¹…, ç”»é¢é«˜);
	ctx.fillStyle = "black";
	ctx.font = "bold " + å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º + "px Monospace";
	var ã‚¿ã‚¤ãƒˆãƒ« = [ "" ];
	ã‚¿ã‚¤ãƒˆãƒ«.push(æ™‚è¨ˆ[parseInt(çµŒéæ™‚é–“ / 1000) % æ™‚è¨ˆ.length]);
	var çµŒéæ™‚é–“ãƒ†ã‚­ã‚¹ãƒˆ = "" + parseInt(çµŒéæ™‚é–“ / 1000);
	if (çµŒéæ™‚é–“ãƒ†ã‚­ã‚¹ãƒˆ.length > 1) {
		ã‚¿ã‚¤ãƒˆãƒ«.push(è¡¨ç¤ºç”¨æ•°å­—[çµŒéæ™‚é–“ãƒ†ã‚­ã‚¹ãƒˆ[0]]);
		ã‚¿ã‚¤ãƒˆãƒ«.push(è¡¨ç¤ºç”¨æ•°å­—[çµŒéæ™‚é–“ãƒ†ã‚­ã‚¹ãƒˆ[1]]);
	} else {
		ã‚¿ã‚¤ãƒˆãƒ«.push("");
		ã‚¿ã‚¤ãƒˆãƒ«.push(è¡¨ç¤ºç”¨æ•°å­—[çµŒéæ™‚é–“ãƒ†ã‚­ã‚¹ãƒˆ[0]]);
	}
	ã‚¿ã‚¤ãƒˆãƒ«.push(".");
	ã‚¿ã‚¤ãƒˆãƒ«.push(è¡¨ç¤ºç”¨æ•°å­—[Math.floor(çµŒéæ™‚é–“ / 100) % 10]);
	ã‚¿ã‚¤ãƒˆãƒ«.push(æ™‚è¨ˆ[parseInt(çµŒéæ™‚é–“ / 1000) % æ™‚è¨ˆ.length]);
	for (var i = 0; i < ã‚¿ã‚¤ãƒˆãƒ«.length; i++) {
		ctx.fillText(ã‚¿ã‚¤ãƒˆãƒ«[i], ã‚ªãƒ•ã‚»ãƒƒãƒˆX + i * å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º, ã‚ªãƒ•ã‚»ãƒƒãƒˆY + å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º);
	}
	ctx.font = "bold " + å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º + "px Monospace";
	for (var i = 0; i < ç›¤é«˜; i++) {
		for (var j = 0; j < ç›¤å¹…; j++){
			var ãƒ†ã‚­ã‚¹ãƒˆ = "";
			if (æŠ¼æ¸ˆç›¤[i][j] == 0) {
				ãƒ†ã‚­ã‚¹ãƒˆ = ã‚¿ã‚¤ãƒ«æ•°å­—[æ•°å­—ç›¤[i][j] - 1];
			}
			ctx.fillText(ãƒ†ã‚­ã‚¹ãƒˆ, ã‚ªãƒ•ã‚»ãƒƒãƒˆX + j * å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º, ã‚ªãƒ•ã‚»ãƒƒãƒˆY + (i + 1) * å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º + å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º);
		}
	}
	if (ã‚¯ãƒªã‚¢) {
		ctx.font = "bold " + ç‰¹å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º + "px Monospace";
		ctx.fillText("ğŸ‘", (ç”»é¢å¹… - ç‰¹å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º) / 2, å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º + (ç”»é¢é«˜ - å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º + ç‰¹å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º) / 2);
		
		ctx.font = "bold " + å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º + "px Monospace";
		ctx.fillText("ğŸ§",  (ç”»é¢å¹… / 4 - å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º) / 2 + ç”»é¢å¹… / 4, å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º + ç”»é¢é«˜ - å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º - ã‚ªãƒ•ã‚»ãƒƒãƒˆY); // ğŸ¦ğŸ¥
		ctx.fillText("ğŸ²",  (ç”»é¢å¹… / 4 - å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º) / 2 + ç”»é¢å¹… / 2, å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º + ç”»é¢é«˜ - å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º - ã‚ªãƒ•ã‚»ãƒƒãƒˆY);
		
	}
}
function ã‚¿ãƒƒãƒ(tx, ty) {
	if (ã‚¯ãƒªã‚¢) {
		if (ty > ç”»é¢é«˜ - ã‚ªãƒ•ã‚»ãƒƒãƒˆY - å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º) {
			if (tx < ç”»é¢å¹… / 2) {
				var url = document.location.href;
				var t = Math.floor(çµŒéæ™‚é–“ / 100);
				var s = "ã€Œã˜ã‚…ã‚“ã«ãŠã™ã€ã‚’" + Math.floor(t / 10) + "." + (t % 10) + "ç§’ã§ã‚¯ãƒªã‚¢ï¼";
				var id = "taisukef";
				var hashtag = "eãƒãƒ”ãƒ¼";
				var turl = "https://twitter.com/share?url=" + encodeURIComponent(url) + "&text=" + encodeURIComponent(s) +"&via=" + id + "&hashtags=" + hashtag;
				if (ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œç«¯æœ«()) {
					document.location.href = turl;
				} else {
					window.open(turl, "_blank", "width=600,height=300");
				}
			} else {
				var surl = "http://fukuno.jig.jp/1556";
				if (ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œç«¯æœ«()) {
					document.location.href = surl;
				} else {
					window.open(surl, "_blank");
				}
			}
		} else {
			åˆæœŸåŒ–ã›ã‚ˆ();
		}
		return;
	}
	tx -= ã‚ªãƒ•ã‚»ãƒƒãƒˆX;
	ty -= ã‚ªãƒ•ã‚»ãƒƒãƒˆY;
	if (tx < 0 || ty < 0)
		return;
	var x = parseInt(tx / å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º);
	var y = parseInt((ty - å°ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º) / å¤§ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º);
	if (x >= ç›¤å¹… || y >= ç›¤é«˜ || x < 0 || y < 0 || æŠ¼æ¸ˆç›¤[y][x] == 1) {
		return;
	}
	if (ä»ŠæŠ¼ã™æ•°å­— == æ•°å­—ç›¤[y][x]) {
		æŠ¼æ¸ˆç›¤[y][x] = 1;
		ä»ŠæŠ¼ã™æ•°å­—++;
	}
	ã‚¯ãƒªã‚¢åˆ¤å®š();
	æç”»ã›ã‚ˆ();
}
function ã‚¯ãƒªã‚¢åˆ¤å®š() {
	for (var i = 0; i < ç›¤é«˜; i++) {
		for (var j = 0; j < ç›¤å¹…; j++){
			if (æŠ¼æ¸ˆç›¤[i][j] == 0) {
				return;
			}
		}
	}
	ã‚¯ãƒªã‚¢ = true;
	clearInterval(ã‚¿ã‚¤ãƒID);
}
</script></head>
<body><canvas id="canv"></canvas></body></html>
